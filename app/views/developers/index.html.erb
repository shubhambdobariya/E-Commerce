<div class="text-end mt-4">
  <%= link_to new_developer_path, class: 'btn btn-outline-secondary', style: 'color: black;' do %>
    Add Developer
    <i class="bi bi-person-circle"></i>
  <% end %>
</div>

<div class="mt-4">
  <table class="table table-bordered">
    <thead>
      <tr>
        <th class="gray-header">Name</th>
        <th class="gray-header">Position</th>
        <th class="gray-header">Action</th>
        <th class="gray-header">Projects</th>
      </tr>
    </thead>
    <tbody>
      <% @developers.each do |developer| %>   
        <tr>
          <td><%= developer.name.capitalize %></td>
          <td><%= developer.position.capitalize %></td>
          <td class="text-center">
            <%= link_to developer, title: "View" do %> 
              <i class="fa-solid fa-eye text-primary"></i>
            <% end %>
            <% if current_user.admin? %>
              |
              <%= link_to edit_developer_path(developer), title: "Edit" do %>
                <i class="fa-solid fa-pen-to-square text-warning"></i>
              <% end %>
              |
               <%= link_to developer_path(developer), method: :delete, title: "Delete", data: { turbo_method: :delete, turbo_confirm: 'Are you sure delete the data?' }, class: "btn btn-sm" do %>
                <i class="fa-solid fa-trash text-danger"></i>
              <% end %>
            <% end %>
          </td>
          <td>
            <% developer.projects.each do |project| %>
              <%= link_to project.project_name, project_path(project) %><br>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<div class="d-flex justify-content-center mt-4">
  <%= will_paginate @developers, renderer: BootstrapPagination::Rails %>
</div>
