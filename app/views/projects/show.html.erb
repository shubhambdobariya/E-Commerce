<div class="d-flex justify-content-between">
  <h3>Project Details</h3>
  <br>
  <div class="text-end mt-4">
    <%= link_to new_project_ticket_path(@project), class: 'btn btn-outline-secondary', style: 'color: black;' do %>
      Create Ticket
      <i class="bi bi-person-circle"></i>
    <% end %>
  </div>
</div>
<div class="mt-4">
  <p><strong>Project Name:</strong> <%= @project.project_name %></p>
  <p><strong>Status:</strong> <%= @project.status %></p>
  <p><strong>Start Date:</strong> <%= @project.start_date %></p>
  <p><strong>End Date:</strong> <%= @project.end_date %></p>
  <%= link_to 'Back', projects_path, class: "btn btn-secondary margin-button" %>
</div>

<% if @project.comments.any? %>
  <div>
    <p class="mt-4"><strong>Add Comments:</strong></p>
    <%= form_with(model: [@project, @project.comments.build], local: true) do |form| %>
      <div class="form-group">
        <%= form.label 'New comment' %>
        <%= form.text_area :content %>
      </div>
      <%= form.submit 'Submit', class: 'btn btn-primary' %>
    <% end %>
  </div>
  <div class="mt-4">
    <h4>Comments:</h4>
    <%= render partial: 'comments/comment', collection: @project.comments %>
  </div>
<% else %>
  <div class="mt-4">
    <p>No comments to display.</p>
  </div>
<% end %>

<% if @project.developers.any? %>
  <div class="mt-4">
    <h4>Developer Details:</h4>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Name</th>
          <th>Role</th>
        </tr>
      </thead>
      <tbody>
        <% @project.developers.each do |developer| %>
          <tr>
            <td><%= link_to developer.name, developer_path(developer) %></td>
            <td><%= developer.position %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
<% else %>
  <div class="mt-4">
    <p>No developers associated with this project.</p>
  </div>
<% end %>
